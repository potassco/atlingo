#!/bin/bash


ROOT="$1""/"
INSTANCE=$2
APP=$3
DOM=$4
HORIZON=$5
MODELS=$6
CONSTRAINT=$7
CLINGO_ARGS=$8
# FORCE_TRANSLATE=$(9)
: ${CLINGO_ARGS:=''}

PATH_FROM_ATLINGO_TO_ROOT="benchmarks/benchmark-tool/"
PATH_FROM_ROOT_TO_ATLINGO="../../"


INSTANCE=${INSTANCE#"$ROOT"}
INSTANCE=${INSTANCE#"$PATH_FROM_ROOT_TO_ATLINGO"}
INSTANCE=${PATH_FROM_ATLINGO_TO_ROOT}${INSTANCE}
CONSTRAINT_NAME=$(basename "$CONSTRAINT")
ARGS="-q "$CLINGO_ARGS
echo $ARGS
echo "( cd $ROOT ; cd $PATH_FROM_ROOT_TO_ATLINGO ; make translate-run DOM=$DOM APP=$APP INSTANCE=$INSTANCE CONSTRAINT=$CONSTRAINT_NAME HORIZON=$HORIZON MODELS=$MODELS RUN_FILES=' --warn=none --stats $ARGS ' FORCE_TRANSLATE=0)"
( cd $ROOT ; cd $PATH_FROM_ROOT_TO_ATLINGO ; make translate-run DOM=$DOM APP=$APP INSTANCE=$INSTANCE CONSTRAINT=$CONSTRAINT_NAME HORIZON=$HORIZON MODELS=$MODELS RUN_FILES="$ARGS " FORCE_TRANSLATE=0)


